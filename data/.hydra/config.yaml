task: task1
path:
  root: /mnt/parscratch/users/act23ss/clarity_CEC3_data
  exp: /users/act23ss/clarity/data
  scenes_folder: ${path.root}/${task}/clarity_data/dev/scenes
  metadata_dir: ${path.root}/${task}/clarity_data/metadata
  scenes_listeners_file: ${path.metadata_dir}/scenes_listeners.dev.json
  listeners_file: ${path.metadata_dir}/listeners.json
  scenes_file: ${path.metadata_dir}/scenes.dev.json
  cec2_root: /mnt/parscratch/users/act23ss
sr: 32000
sample_rate: 44100
downsample_factor: 2
num_channels: 6
level_norm: false
wav_silence_len: 0
listener:
  metafile: ${path.metadata_dir}/listeners.json
  id: L0001
  src_pos: ff
  loudnorm: false
mc_conv_tasnet:
  N_spec: 256
  N_spat: 128
  L: 20
  B: 256
  H: 512
  P: 3
  X: 6
  R: 4
  C: 2
  num_channels: 6
  norm_type: cLN
  causal: true
  mask_nonlinear: relu
amplifier:
  sr: ${sample_rate}
  nfir: 240
  n_layer: 3
  n_hidden: 512
  dropout: 0.2
fir:
  sample_rate: ${sample_rate}
  nfir: 220
den_trainer:
  optimizer:
    lr: 0.001
  epochs: 1
  gradient_clip_val: 5.0
amp_trainer:
  optimizer:
    lr: 0.05
  epochs: 1
  gradient_clip_val: 5.0
  stoilevel_loss:
    sr: ${sample_rate}
    alpha: 0.0001
  dhaspi_loss:
    sr: 24000
    alpha: 1
  num_sanity_val_steps: 2
train_dataset:
  scenes_folder: ${path.root}/${task}/clarity_data/train/scenes
  scenes_file: ${path.metadata_dir}/scenes.train.json
  sample_rate: ${sample_rate}
  downsample_factor: ${downsample_factor}
  wav_sample_len: 2
  wav_silence_len: ${wav_silence_len}
  num_channels: ${num_channels}
  norm: ${level_norm}
train_loader:
  batch_size: 1
  shuffle: true
  num_workers: 10
  drop_last: true
  pin_memory: true
dev_dataset:
  scenes_folder: ${path.root}/${task}/clarity_data/dev/scenes
  scenes_file: ${path.metadata_dir}/scenes.dev.json
  sample_rate: ${sample_rate}
  downsample_factor: ${downsample_factor}
  wav_sample_len: null
  wav_silence_len: ${wav_silence_len}
  num_channels: ${num_channels}
  norm: ${level_norm}
dev_loader:
  batch_size: 1
  shuffle: false
  num_workers: 10
test_dataset:
  scenes_folder: ${path.root}/${task}/clarity_data/eval/scenes
  scenes_file: ${path.metadata_dir}/scenes_listeners.eval.json
  sample_rate: ${sample_rate}
  downsample_factor: ${downsample_factor}
  wav_sample_len: null
  wav_silence_len: 0
  num_channels: ${num_channels}
  norm: ${level_norm}
  testing: true
test_loader:
  batch_size: 1
  shuffle: false
  num_workers: 10
soft_clip: true
evaluate:
  set_random_seed: true
  small_test: true
  first_scene: 0
  n_scenes: 0
